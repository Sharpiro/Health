<div class="container">
  <div>
    <mat-form-field>
      <mat-select placeholder="Food" [formControl]="foodFormControl" required>
        <mat-option>--</mat-option>
        <mat-option *ngFor="let food of foods" [value]="food">
          {{food.name}}
        </mat-option>
      </mat-select>
      <mat-error *ngIf="foodFormControl.hasError('required')">Please choose a food</mat-error>
    </mat-form-field>
  </div>

  <div>
    <mat-form-field>
      <input matInput type="number" placeholder="Calories" [formControl]="calorieFormControl">
      <mat-error *ngIf="calorieFormControl.hasError('required')">
        Required
      </mat-error>
    </mat-form-field>
  </div>

  <div>
      <mat-form-field>
        <input matInput type="number" placeholder="Serving Size" [formControl]="servingSizeFormControl">
        <mat-error *ngIf="servingSizeFormControl.hasError('required')">
          Required
        </mat-error>
      </mat-form-field>
    </div>

  <div>
    <button mat-button (click)="onSubmit()">Submit</button>
    <!-- <button mat-button (click)="getRandomFood()">Debug</button> -->
  </div>

  <div class="divider">
    <mat-divider></mat-divider>
  </div>

  <div>
    <mat-form-field>
      <input matInput type="text" placeholder="Total Calories" [formControl]="totalCaloriesControl" readonly>
      <mat-error *ngIf="totalCaloriesControl.hasError('required')">
        Required
      </mat-error>
    </mat-form-field>
  </div>

  <div>
    <table mat-table [dataSource]="mealsDataSource">
      <ng-container matColumnDef="foodName">
        <th mat-header-cell *matHeaderCellDef> Food </th>
        <td mat-cell *matCellDef="let meal"> {{meal.foodName}} </td>
      </ng-container>

      <ng-container matColumnDef="calories">
        <th mat-header-cell *matHeaderCellDef> Calories </th>
        <td mat-cell *matCellDef="let meal"> {{meal.calories}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>